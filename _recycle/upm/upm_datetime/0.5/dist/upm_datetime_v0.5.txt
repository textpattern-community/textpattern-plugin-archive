# upm_datetime v.0.5
# Display current date/time.

# Mary Fredborg
# http://utterplush.com/txp-plugins/upm-datetime

# ..........................................................................
# A plugin for Textpattern
# http://textpattern.com/
#
# Adding Plugins to Your Textpattern Installation
# http://textpattern.net/wiki/index.php?title=Intermediate_Weblog_Model#Adding_Plugins_to_Your_Textpattern_Installation
# ..........................................................................

YToxMTp7czo0OiJuYW1lIjtzOjEyOiJ1cG1fZGF0ZXRpbWUiO3M6MTE6ImRlc2NyaXB0aW9u
IjtzOjI2OiJEaXNwbGF5IGN1cnJlbnQgZGF0ZS90aW1lLiI7czo3OiJ2ZXJzaW9uIjtzOjM6
IjAuNSI7czo0OiJ0eXBlIjtpOjA7czo2OiJhdXRob3IiO3M6MTM6Ik1hcnkgRnJlZGJvcmci
O3M6MTA6ImF1dGhvcl91cmkiO3M6NDY6Imh0dHA6Ly91dHRlcnBsdXNoLmNvbS90eHAtcGx1
Z2lucy91cG0tZGF0ZXRpbWUiO3M6NDoiY29kZSI7czo2MzI6ImZ1bmN0aW9uIHVwbV9kYXRl
dGltZSgkYXR0cykKCXsKCQlnbG9iYWwgJHByZWZzOwoKCQlleHRyYWN0KGxBdHRzKGFycmF5
KAoJCQknZm9ybWF0JwkgPT4gJHByZWZzWydkYXRlZm9ybWF0J10sCgkJCSdmdW5jdGlvbicg
PT4gJ3N0cmZ0aW1lJywKCQkJJ2dtdCcJCQkgPT4gMCwKCQkJJ2xhbmcnCQkgPT4gJycsCgkJ
KSwgJGF0dHMpKTsKCgkJJG5vdyA9IHRpbWUoKTsKCgkJc3dpdGNoICgkZnVuY3Rpb24pCgkJ
ewoJCQljYXNlICdkYXRlJzoKCQkJCWlmICgkZm9ybWF0ID09ICdzaW5jZScpCgkJCQl7CgkJ
CQkJJGZvcm1hdCA9ICdsLCBGIGpTLCBZJzsKCQkJCX0KCgkJCQlyZXR1cm4gKCRnbXQpID8g
Z21kYXRlKCRmb3JtYXQsICRub3cpIDogZGF0ZSgkZm9ybWF0LCAkbm93ICsgdHpfb2Zmc2V0
KCkpOwoJCQlicmVhazsKCgkJCWNhc2UgJ3N0cmZ0aW1lJzoKCQkJZGVmYXVsdDoKCQkJCWlm
ICgkZm9ybWF0ID09ICdzaW5jZScpCgkJCQl7CgkJCQkJJGZvcm1hdCA9ICclQSwgJUIgJy4o
IGlzX251bWVyaWMoc3RyZnRpbWUoJyVlJykpID8gJyVlJyA6ICclZCcgKS4nLCAlWSc7CgkJ
CQl9CgoJCQkJcmV0dXJuIHNhZmVfc3RyZnRpbWUoJGZvcm1hdCwgJG5vdywgJGdtdCwgJGxh
bmcpOwoJCQlicmVhazsKCQl9Cgl9IjtzOjQ6ImhlbHAiO3M6MjQxNToibm90ZXh0aWxlLi4g
PHN0eWxlIHR5cGU9InRleHQvY3NzIiBtZWRpYT0ic2NyZWVuLHByb2plY3Rpb24iPgo8IS0t
CnZhciB7CglwYWRkaW5nOiAwLjFlbTsKCWZvbnQtc3R5bGU6IG5vcm1hbDsKCWZvbnQtd2Vp
Z2h0OiBib2xkOwoJZm9udC1mYW1pbHk6IG1vbm9zcGFjZTsKCWJhY2tncm91bmQtY29sb3I6
ICNlZWU7Cn0KCnRhYmxlLnVwbV90YWdfYXR0cyB7CgltYXJnaW46IDAgMCAxNXB4IDA7Cgli
b3JkZXI6IDFweCBzb2xpZCAjZWVlOwoJYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsKfQoK
dGFibGUudXBtX3RhZ19hdHRzIGNhcHRpb24gewoJcGFkZGluZzogMC41ZW07Cglmb250LXdl
aWdodDogYm9sZDsKCXRleHQtYWxpZ246IGxlZnQ7CgliYWNrZ3JvdW5kLWNvbG9yOiAjZGRk
Owp9Cgp0YWJsZS51cG1fdGFnX2F0dHMgdHIgewoJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlk
ICNlZWU7Cn0KCnRhYmxlLnVwbV90YWdfYXR0cyB0aCwgdGFibGUudXBtX3RhZ19hdHRzIHRk
IHsKCW1hcmdpbjogMDsKCXBhZGRpbmc6IDAuNWVtIDFlbTsKfQoKdGFibGUudXBtX3RhZ19h
dHRzIHRoIHsKCWZvbnQtd2VpZ2h0OiBub3JtYWw7Cgl0ZXh0LWFsaWduOiBsZWZ0OwoJYmFj
a2dyb3VuZC1jb2xvcjogI2VlZTsKfQoKdGFibGUudXBtX3RhZ19hdHRzIGxpIHsKCW1hcmdp
bjogMTBweCAwIDAgMDsKfQotLT4KPC9zdHlsZT4KCjxoMT51cG1fZGF0ZXRpbWU8L2gxPgoK
PHA+RGlzcGxheSBjdXJyZW50IGRhdGUvdGltZS48L3A+Cgo8dGFibGUgY2xhc3M9InVwbV90
YWdfYXR0cyIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIj4KCgk8Y2FwdGlvbj51
cG1fZGF0ZXRpbWU8L2NhcHRpb24+CgoJPHRyPgoJCTx0aD5OYW1lPC90aD4KCQk8dGg+RGVz
Y3JpcHRpb248L3RoPgoJCTx0aD5SZXF1aXJlZD88L3RoPgoJCTx0aD5BdmFpbGFibGUgVmFs
dWVzPC90aD4KCQk8dGg+RGVmYXVsdCBWYWx1ZTwvdGg+Cgk8L3RyPgoKCTx0cj4KCQk8dGQ+
Zm9ybWF0PC90ZD4KCQk8dGQ+Rm9ybWF0IHN0cmluZzwvdGQ+CgkJPHRkPk5vPC90ZD4KCQk8
dGQ+QW55IHZhbGlkIHN0cmluZyBmb3IgdGhlIHNwZWNpZmllZCA8dmFyPmZ1bmN0aW9uPC92
YXI+OgoJCQk8dWw+CgkJCQk8bGk+SWYgdXNpbmcgPHZhcj5kYXRlPC92YXI+LCBhbnkgdmFs
aWQKCQkJCQk8YSBocmVmPSJodHRwOi8vcGhwLm5ldC9kYXRlIj5kYXRlIGZvcm1hdCBzdHJp
bmc8L2E+LjwvbGk+CgkJCQk8bGk+SWYgdXNpbmcgPHZhcj5zdHJmdGltZTwvdmFyPiwgYW55
IHZhbGlkCgkJCQkJPGEgaHJlZj0iaHR0cDovL3BocC5uZXQvc3RyZnRpbWUiPnN0cmZ0aW1l
IGZvcm1hdCBzdHJpbmc8L2E+LjwvbGk+CgkJCTwvdWw+CgkJPC90ZD4KCQk8dGQ+JiM4MjIw
O0RhdGUgZm9ybWF0JiM4MjIxOyBwcmVmZXJlbmNlIHZhbHVlLiBJZiB0aGUgdmFsdWUgaXMg
JiM4MjIwO2hycy9kYXlzIGFnbyYjODIyMTsgYW5kLi4uCgkJCTx1bD4KCQkJCTxsaT4uLi5p
ZiB1c2luZyB0aGUgZnVuY3Rpb24gdHlwZSA8dmFyPmRhdGU8L3Zhcj4sIHRoZW4gdGhlIHN0
cmluZyA8dmFyPmwsIEYgalMsIFk8L3Zhcj4gaXMgdXNlZC48L2xpPgoJCQkJPGxpPi4uLmlm
IHVzaW5nIHRoZSBmdW5jdGlvbiB0eXBlIDx2YXI+c3RyZnRpbWU8L3Zhcj4sIHRoZW4gdGhl
IHN0cmluZyA8dmFyPiVBLCAlQiAlZSwgJVk8L3Zhcj4gaXMgdXNlZC48L2xpPgoJCQk8L3Vs
PgoJCTwvdGQ+Cgk8L3RyPgoKCTx0cj4KCQk8dGQ+ZnVuY3Rpb248L3RkPgoJCTx0ZD5Gb3Jt
YXQgc3RyaW5nIHR5cGU8L3RkPgoJCTx0ZD5ObzwvdGQ+CgkJPHRkPjx2YXI+ZGF0ZTwvdmFy
PiBvciA8dmFyPnN0cmZ0aW1lPC92YXI+PC90ZD4KCQk8dGQ+PHZhcj5zdHJmdGltZTwvdmFy
PjwvdGQ+Cgk8L3RyPgoKCTx0cj4KCQk8dGQ+Z210PC90ZD4KCQk8dGQ+V2hldGhlciB0byBv
dXRwdXQgR01UIGVxdWl2YWxlbnQgb2YgZGF0ZS90aW1lLjwvdGQ+CgkJPHRkPk5vPC90ZD4K
CQk8dGQ+PHZhcj4wPC92YXI+IChubykgb3IgPHZhcj4xPC92YXI+ICh5ZXMpPC90ZD4KCQk8
dGQ+PHZhcj4wPC92YXI+Cgk8L3RyPgoKCTx0cj4KCQk8dGQ+bGFuZzwvdGQ+CgkJPHRkPlRo
ZSBsYW5ndWFnZSBvciBsb2NhbGUgdG8gdXNlIHRvIG91dHB1dCBkYXRlL3RpbWUuIFVzZWQg
PGVtPm9ubHk8L2VtPiBieSA8dmFyPnN0cmZ0aW1lPC92YXI+LCBhcwoJCQk8dmFyPmRhdGU8
L3Zhcj4gY2FuIG9ubHkgb3V0cHV0IEVuZ2xpc2guPC90ZD4KCQk8dGQ+Tm88L3RkPgoJCTx0
ZD40LWxldHRlciBjb2RlIG9mIHRoZSBkZXNpcmVkIGxhbmd1YWdlIFtJU08gNjM5IChsYW5n
dWFnZSkgYW5kIElTTyAzMTY2IChyZWdpb24pXQoJCQlvciB1bnNldCAodXNlcyBMb2NhbGUg
b2YgdGhlICYjODIyMDtMYW5ndWFnZSYjODIyMTsgcHJlZmVyZW5jZSkuPC90ZD4KCQk8dGQ+
VW5zZXQ8L3RkPgoJPC90cj4KCjwvdGFibGU+IjtzOjg6ImhlbHBfcmF3IjtzOjI0MTU6Im5v
dGV4dGlsZS4uIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyIgbWVkaWE9InNjcmVlbixwcm9qZWN0
aW9uIj4KPCEtLQp2YXIgewoJcGFkZGluZzogMC4xZW07Cglmb250LXN0eWxlOiBub3JtYWw7
Cglmb250LXdlaWdodDogYm9sZDsKCWZvbnQtZmFtaWx5OiBtb25vc3BhY2U7CgliYWNrZ3Jv
dW5kLWNvbG9yOiAjZWVlOwp9Cgp0YWJsZS51cG1fdGFnX2F0dHMgewoJbWFyZ2luOiAwIDAg
MTVweCAwOwoJYm9yZGVyOiAxcHggc29saWQgI2VlZTsKCWJvcmRlci1jb2xsYXBzZTogY29s
bGFwc2U7Cn0KCnRhYmxlLnVwbV90YWdfYXR0cyBjYXB0aW9uIHsKCXBhZGRpbmc6IDAuNWVt
OwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgl0ZXh0LWFsaWduOiBsZWZ0OwoJYmFja2dyb3VuZC1j
b2xvcjogI2RkZDsKfQoKdGFibGUudXBtX3RhZ19hdHRzIHRyIHsKCWJvcmRlci1ib3R0b206
IDFweCBzb2xpZCAjZWVlOwp9Cgp0YWJsZS51cG1fdGFnX2F0dHMgdGgsIHRhYmxlLnVwbV90
YWdfYXR0cyB0ZCB7CgltYXJnaW46IDA7CglwYWRkaW5nOiAwLjVlbSAxZW07Cn0KCnRhYmxl
LnVwbV90YWdfYXR0cyB0aCB7Cglmb250LXdlaWdodDogbm9ybWFsOwoJdGV4dC1hbGlnbjog
bGVmdDsKCWJhY2tncm91bmQtY29sb3I6ICNlZWU7Cn0KCnRhYmxlLnVwbV90YWdfYXR0cyBs
aSB7CgltYXJnaW46IDEwcHggMCAwIDA7Cn0KLS0+Cjwvc3R5bGU+Cgo8aDE+dXBtX2RhdGV0
aW1lPC9oMT4KCjxwPkRpc3BsYXkgY3VycmVudCBkYXRlL3RpbWUuPC9wPgoKPHRhYmxlIGNs
YXNzPSJ1cG1fdGFnX2F0dHMiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCI+CgoJ
PGNhcHRpb24+dXBtX2RhdGV0aW1lPC9jYXB0aW9uPgoKCTx0cj4KCQk8dGg+TmFtZTwvdGg+
CgkJPHRoPkRlc2NyaXB0aW9uPC90aD4KCQk8dGg+UmVxdWlyZWQ/PC90aD4KCQk8dGg+QXZh
aWxhYmxlIFZhbHVlczwvdGg+CgkJPHRoPkRlZmF1bHQgVmFsdWU8L3RoPgoJPC90cj4KCgk8
dHI+CgkJPHRkPmZvcm1hdDwvdGQ+CgkJPHRkPkZvcm1hdCBzdHJpbmc8L3RkPgoJCTx0ZD5O
bzwvdGQ+CgkJPHRkPkFueSB2YWxpZCBzdHJpbmcgZm9yIHRoZSBzcGVjaWZpZWQgPHZhcj5m
dW5jdGlvbjwvdmFyPjoKCQkJPHVsPgoJCQkJPGxpPklmIHVzaW5nIDx2YXI+ZGF0ZTwvdmFy
PiwgYW55IHZhbGlkCgkJCQkJPGEgaHJlZj0iaHR0cDovL3BocC5uZXQvZGF0ZSI+ZGF0ZSBm
b3JtYXQgc3RyaW5nPC9hPi48L2xpPgoJCQkJPGxpPklmIHVzaW5nIDx2YXI+c3RyZnRpbWU8
L3Zhcj4sIGFueSB2YWxpZAoJCQkJCTxhIGhyZWY9Imh0dHA6Ly9waHAubmV0L3N0cmZ0aW1l
Ij5zdHJmdGltZSBmb3JtYXQgc3RyaW5nPC9hPi48L2xpPgoJCQk8L3VsPgoJCTwvdGQ+CgkJ
PHRkPiYjODIyMDtEYXRlIGZvcm1hdCYjODIyMTsgcHJlZmVyZW5jZSB2YWx1ZS4gSWYgdGhl
IHZhbHVlIGlzICYjODIyMDtocnMvZGF5cyBhZ28mIzgyMjE7IGFuZC4uLgoJCQk8dWw+CgkJ
CQk8bGk+Li4uaWYgdXNpbmcgdGhlIGZ1bmN0aW9uIHR5cGUgPHZhcj5kYXRlPC92YXI+LCB0
aGVuIHRoZSBzdHJpbmcgPHZhcj5sLCBGIGpTLCBZPC92YXI+IGlzIHVzZWQuPC9saT4KCQkJ
CTxsaT4uLi5pZiB1c2luZyB0aGUgZnVuY3Rpb24gdHlwZSA8dmFyPnN0cmZ0aW1lPC92YXI+
LCB0aGVuIHRoZSBzdHJpbmcgPHZhcj4lQSwgJUIgJWUsICVZPC92YXI+IGlzIHVzZWQuPC9s
aT4KCQkJPC91bD4KCQk8L3RkPgoJPC90cj4KCgk8dHI+CgkJPHRkPmZ1bmN0aW9uPC90ZD4K
CQk8dGQ+Rm9ybWF0IHN0cmluZyB0eXBlPC90ZD4KCQk8dGQ+Tm88L3RkPgoJCTx0ZD48dmFy
PmRhdGU8L3Zhcj4gb3IgPHZhcj5zdHJmdGltZTwvdmFyPjwvdGQ+CgkJPHRkPjx2YXI+c3Ry
ZnRpbWU8L3Zhcj48L3RkPgoJPC90cj4KCgk8dHI+CgkJPHRkPmdtdDwvdGQ+CgkJPHRkPldo
ZXRoZXIgdG8gb3V0cHV0IEdNVCBlcXVpdmFsZW50IG9mIGRhdGUvdGltZS48L3RkPgoJCTx0
ZD5ObzwvdGQ+CgkJPHRkPjx2YXI+MDwvdmFyPiAobm8pIG9yIDx2YXI+MTwvdmFyPiAoeWVz
KTwvdGQ+CgkJPHRkPjx2YXI+MDwvdmFyPgoJPC90cj4KCgk8dHI+CgkJPHRkPmxhbmc8L3Rk
PgoJCTx0ZD5UaGUgbGFuZ3VhZ2Ugb3IgbG9jYWxlIHRvIHVzZSB0byBvdXRwdXQgZGF0ZS90
aW1lLiBVc2VkIDxlbT5vbmx5PC9lbT4gYnkgPHZhcj5zdHJmdGltZTwvdmFyPiwgYXMKCQkJ
PHZhcj5kYXRlPC92YXI+IGNhbiBvbmx5IG91dHB1dCBFbmdsaXNoLjwvdGQ+CgkJPHRkPk5v
PC90ZD4KCQk8dGQ+NC1sZXR0ZXIgY29kZSBvZiB0aGUgZGVzaXJlZCBsYW5ndWFnZSBbSVNP
IDYzOSAobGFuZ3VhZ2UpIGFuZCBJU08gMzE2NiAocmVnaW9uKV0KCQkJb3IgdW5zZXQgKHVz
ZXMgTG9jYWxlIG9mIHRoZSAmIzgyMjA7TGFuZ3VhZ2UmIzgyMjE7IHByZWZlcmVuY2UpLjwv
dGQ+CgkJPHRkPlVuc2V0PC90ZD4KCTwvdHI+Cgo8L3RhYmxlPiI7czoxNToiYWxsb3dfaHRt
bF9oZWxwIjtpOjE7czozOiJtZDUiO3M6MzI6IjMxMjk4ODE3ZTYyNmQ0NGNmNWMzZmY5ZWY5
ZWVhZTBiIjt9